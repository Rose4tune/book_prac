{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://chattrbox/./app/scripts/src/app.js","webpack://chattrbox/./app/scripts/src/ws-client.js","webpack://chattrbox/webpack/bootstrap","webpack://chattrbox/webpack/runtime/compat get default export","webpack://chattrbox/webpack/runtime/define property getters","webpack://chattrbox/webpack/runtime/hasOwnProperty shorthand","webpack://chattrbox/webpack/runtime/make namespace object","webpack://chattrbox/./app/scripts/src/main.js"],"sourcesContent":["import socket from './ws-client';\r\nimport {ChatForm} from './dom';\r\n\r\nconst FORM_SELECTOR = '[data-chat=\"chat-form\"]';\r\nconst INPUT_SELECTOR = '[data-chat=\"message-input\"]'\r\n\r\nclass ChatApp {\r\n  constructor() {\r\n    this.chatForm = new ChatForm(FORM_SELECTOR, INPUT_SELECTOR);\r\n\r\n    socket.init('ws://localhost:3001');\r\n    socket.registerOpenHandler(() => {\r\n      let message = new ChatMessage({ message: 'POW!'});\r\n      socket.sendMessage(message.serialize());\r\n    });\r\n    socket.registerMessageHandler((data) => {\r\n      console.log(data);\r\n    })\r\n  }\r\n}\r\n\r\nclass ChatMessage {\r\n  constructor({\r\n      message: m,\r\n      user: u = 'batman',\r\n      timestamp: t = (new Date()).getTime()\r\n  }) {\r\n    this.message = m;\r\n    this.user = u;\r\n    this.timestamp = t;\r\n  }\r\n  serialize() {\r\n    return {\r\n      user: this.user,\r\n      message: this.message,\r\n      timestamp: this.timestamp\r\n    };\r\n  }\r\n}\r\nexport default ChatApp;\r\n","let socket;\r\n\r\nfunction init (url) {\r\n  socket = new WebSocket(url);\r\n  console.log('connecting...');\r\n}\r\n\r\nfunction registerOpenHandler (handlerFunction) {\r\n  socket.onopen = () => {\r\n    console.log('open');\r\n    handlerFunction();\r\n  }\r\n}\r\n\r\nfunction registerMessageHandler (handlerFunction) {\r\n  socket.onmessage = (e) => {\r\n    console.log('message', e.data);\r\n    let data = JSON.parse(e.data);\r\n    handlerFunction(data);\r\n  }\r\n}\r\n\r\nfunction sendMessage (payload) {\r\n  socket.send(JSON.stringify(payload));\r\n}\r\n\r\nexport default {\r\n  init,\r\n  registerOpenHandler,\r\n  registerMessageHandler,\r\n  sendMessage\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ChatApp from './app';\r\nnew ChatApp();\r\n"],"names":["socket","ChatForm","FORM_SELECTOR","INPUT_SELECTOR","ChatApp","chatForm","init","registerOpenHandler","message","ChatMessage","sendMessage","serialize","registerMessageHandler","data","console","log","m","user","u","timestamp","t","Date","getTime","url","WebSocket","handlerFunction","onopen","onmessage","e","JSON","parse","payload","send","stringify"],"sourceRoot":""}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h1>async / await</h1>
  <p>
    비동기 상황을 동기적으로 다루기 위한 또 하나의 방법
  </p>
  <script type="module" src="./fx.js"></script>

  <h2>async</h2>
  <p>어떠한 상황에서도 Promise를 리턴한다.</p>
  <script type="module">
    import * as fx from './fx.js';
    var log = console.log;



    function delay(time){
      return new Promise(resolve => setTimeout(() => resolve(), time));
    }

    async function delayIdentity(a) {
      await delay(1000);
      return a;
    }

    async function f1(){
      const a = await delayIdentity(10);
      const b = await delayIdentity(5);
      return a + b;
    }

    const pa = Promise.resolve(10);

    (async () => {
      log(await pa);
    })();



    // f1();
    // f1().then(log);
    // fx.go(f1(), log);
    // (async () => {
    //   log(await f1());
    // })();
  </script>


</body>

</html>